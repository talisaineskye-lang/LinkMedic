{"version":3,"sources":["../../../../src/components/settings-form.tsx/__nextjs-internal-proxy.mjs","../../../../src/app/%28dashboard%29/settings/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const SettingsForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call SettingsForm() from the server but SettingsForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/settings-form.tsx\",\n    \"SettingsForm\",\n);\n","import { getServerSession } from \"next-auth\";\nimport { authOptions } from \"@/lib/auth\";\nimport { prisma } from \"@/lib/db\";\nimport { SettingsForm } from \"@/components/settings-form\";\n\nexport default async function SettingsPage() {\n  const session = await getServerSession(authOptions);\n\n  if (!session?.user?.id) {\n    return null;\n  }\n\n  // Get user settings\n  const user = await prisma.user.findUnique({\n    where: { id: session.user.id },\n    select: {\n      email: true,\n      name: true,\n      youtubeChannelId: true,\n      ctrPercent: true,\n      conversionPercent: true,\n      avgOrderValue: true,\n      subscriptionStatus: true,\n      trialEndsAt: true,\n    },\n  });\n\n  if (!user) {\n    return null;\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div>\n        <h1 className=\"text-2xl font-bold text-gray-900\">Settings</h1>\n        <p className=\"text-gray-600\">Manage your account and preferences</p>\n      </div>\n\n      {/* Account Info */}\n      <div className=\"bg-white rounded-lg border p-6\">\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Account</h2>\n        <dl className=\"space-y-4\">\n          <div>\n            <dt className=\"text-sm text-gray-500\">Email</dt>\n            <dd className=\"text-gray-900\">{user.email}</dd>\n          </div>\n          <div>\n            <dt className=\"text-sm text-gray-500\">Name</dt>\n            <dd className=\"text-gray-900\">{user.name || \"-\"}</dd>\n          </div>\n          <div>\n            <dt className=\"text-sm text-gray-500\">YouTube Channel</dt>\n            <dd className=\"text-gray-900\">\n              {user.youtubeChannelId ? (\n                <a\n                  href={`https://youtube.com/channel/${user.youtubeChannelId}`}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"text-blue-600 hover:underline\"\n                >\n                  {user.youtubeChannelId}\n                </a>\n              ) : (\n                \"Not connected\"\n              )}\n            </dd>\n          </div>\n          <div>\n            <dt className=\"text-sm text-gray-500\">Subscription Status</dt>\n            <dd>\n              <span\n                className={`inline-flex px-2 py-1 text-xs font-medium rounded-full ${\n                  user.subscriptionStatus === \"active\"\n                    ? \"bg-green-100 text-green-700\"\n                    : user.subscriptionStatus === \"trial\"\n                    ? \"bg-blue-100 text-blue-700\"\n                    : \"bg-red-100 text-red-700\"\n                }`}\n              >\n                {user.subscriptionStatus === \"trial\"\n                  ? `Trial (ends ${user.trialEndsAt ? new Date(user.trialEndsAt).toLocaleDateString() : \"N/A\"})`\n                  : user.subscriptionStatus}\n              </span>\n            </dd>\n          </div>\n        </dl>\n      </div>\n\n      {/* Revenue Assumptions */}\n      <div className=\"bg-white rounded-lg border p-6\">\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-2\">Revenue Assumptions</h2>\n        <p className=\"text-sm text-gray-500 mb-6\">\n          Customize the assumptions used to estimate revenue loss from broken links.\n        </p>\n        <SettingsForm\n          initialValues={{\n            ctrPercent: user.ctrPercent ?? 2.0,\n            conversionPercent: user.conversionPercent ?? 3.0,\n            avgOrderValue: user.avgOrderValue ?? 45.0,\n          }}\n        />\n      </div>\n\n      {/* Danger Zone */}\n      <div className=\"bg-white rounded-lg border border-red-200 p-6\">\n        <h2 className=\"text-lg font-semibold text-red-600 mb-2\">Danger Zone</h2>\n        <p className=\"text-sm text-gray-500 mb-4\">\n          These actions are irreversible. Please proceed with caution.\n        </p>\n        <button\n          className=\"px-4 py-2 text-sm font-medium text-red-600 bg-white border border-red-300 rounded-lg hover:bg-red-50 disabled:opacity-50\"\n          disabled\n        >\n          Delete Account (Coming Soon)\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}