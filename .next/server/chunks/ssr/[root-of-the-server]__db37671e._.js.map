{"version":3,"sources":["../../../../src/components/settings-form.tsx/__nextjs-internal-proxy.mjs","../../../../src/app/%28dashboard%29/settings/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const SettingsForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call SettingsForm() from the server but SettingsForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/settings-form.tsx\",\n    \"SettingsForm\",\n);\n","import { getServerSession } from \"next-auth\";\nimport { authOptions } from \"@/lib/auth\";\nimport { prisma } from \"@/lib/db\";\nimport { SettingsForm } from \"@/components/settings-form\";\n\nexport default async function SettingsPage() {\n  const session = await getServerSession(authOptions);\n\n  if (!session?.user?.id) {\n    return null;\n  }\n\n  // Get user settings\n  const user = await prisma.user.findUnique({\n    where: { id: session.user.id },\n    select: {\n      email: true,\n      name: true,\n      youtubeChannelId: true,\n      ctrPercent: true,\n      conversionPercent: true,\n      avgOrderValue: true,\n      subscriptionStatus: true,\n      trialEndsAt: true,\n    },\n  });\n\n  if (!user) {\n    return null;\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div>\n        <h1 className=\"text-2xl font-bold text-white\">Settings</h1>\n        <p className=\"text-slate-300\">Manage your account and preferences</p>\n      </div>\n\n      {/* Account Info */}\n      <div className=\"bg-slate-800/40 border border-slate-700/50 rounded-lg p-6 backdrop-blur\">\n        <h2 className=\"text-lg font-semibold text-white mb-4\">Account</h2>\n        <dl className=\"space-y-4\">\n          <div>\n            <dt className=\"text-sm text-slate-400\">Email</dt>\n            <dd className=\"text-white\">{user.email}</dd>\n          </div>\n          <div>\n            <dt className=\"text-sm text-slate-400\">Name</dt>\n            <dd className=\"text-white\">{user.name || \"-\"}</dd>\n          </div>\n          <div>\n            <dt className=\"text-sm text-slate-400\">YouTube Channel</dt>\n            <dd className=\"text-white\">\n              {user.youtubeChannelId ? (\n                <a\n                  href={`https://youtube.com/channel/${user.youtubeChannelId}`}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"text-emerald-400 hover:underline\"\n                >\n                  {user.youtubeChannelId}\n                </a>\n              ) : (\n                <span className=\"text-slate-500\">Not connected</span>\n              )}\n            </dd>\n          </div>\n          <div>\n            <dt className=\"text-sm text-slate-400\">Subscription Status</dt>\n            <dd>\n              <span\n                className={`inline-flex px-2 py-1 text-xs font-medium rounded-full border ${\n                  user.subscriptionStatus === \"active\"\n                    ? \"bg-emerald-950/30 border-emerald-700/50 text-emerald-400\"\n                    : user.subscriptionStatus === \"trial\"\n                    ? \"bg-blue-950/30 border-blue-700/50 text-blue-400\"\n                    : \"bg-red-950/30 border-red-700/50 text-red-400\"\n                }`}\n              >\n                {user.subscriptionStatus === \"trial\"\n                  ? `Trial (ends ${user.trialEndsAt ? new Date(user.trialEndsAt).toLocaleDateString() : \"N/A\"})`\n                  : user.subscriptionStatus}\n              </span>\n            </dd>\n          </div>\n        </dl>\n      </div>\n\n      {/* Revenue Assumptions */}\n      <div className=\"bg-slate-800/40 border border-slate-700/50 rounded-lg p-6 backdrop-blur\">\n        <h2 className=\"text-lg font-semibold text-white mb-2\">Revenue Assumptions</h2>\n        <p className=\"text-sm text-slate-400 mb-6\">\n          Customize the assumptions used to estimate revenue loss from broken links.\n        </p>\n        <SettingsForm\n          initialValues={{\n            ctrPercent: user.ctrPercent ?? 2.0,\n            conversionPercent: user.conversionPercent ?? 3.0,\n            avgOrderValue: user.avgOrderValue ?? 45.0,\n          }}\n        />\n      </div>\n\n      {/* Danger Zone */}\n      <div className=\"bg-red-950/20 border border-red-700/50 rounded-lg p-6\">\n        <h2 className=\"text-lg font-semibold text-red-400 mb-2\">Danger Zone</h2>\n        <p className=\"text-sm text-slate-400 mb-4\">\n          These actions are irreversible. Please proceed with caution.\n        </p>\n        <button\n          className=\"px-4 py-2 text-sm font-medium text-red-400 bg-red-950/30 border border-red-700/50 rounded-lg hover:bg-red-950/50 disabled:opacity-50 transition\"\n          disabled\n        >\n          Delete Account (Coming Soon)\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}