{"version":3,"sources":["../../../../src/components/user-menu.tsx/__nextjs-internal-proxy.mjs","../../../../src/app/%28dashboard%29/layout.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const UserMenu = registerClientReference(\n    function() { throw new Error(\"Attempted to call UserMenu() from the server but UserMenu is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/user-menu.tsx\",\n    \"UserMenu\",\n);\n","import { getServerSession } from \"next-auth\";\nimport { redirect } from \"next/navigation\";\nimport { authOptions } from \"@/lib/auth\";\nimport Link from \"next/link\";\nimport { UserMenu } from \"@/components/user-menu\";\n\nexport default async function DashboardLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const session = await getServerSession(authOptions);\n\n  if (!session) {\n    redirect(\"/login\");\n  }\n\n  // Check if trial has expired\n  const trialEndsAt = session.user.trialEndsAt;\n  const isTrialExpired = trialEndsAt && new Date(trialEndsAt) < new Date();\n  const isSubscribed = session.user.subscriptionStatus === \"active\";\n\n  if (isTrialExpired && !isSubscribed) {\n    // For MVP, we'll show a message but still allow access\n    // In production, this would redirect to a payment page\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <header className=\"bg-white border-b sticky top-0 z-10\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center h-16\">\n            <div className=\"flex items-center gap-8\">\n              <Link href=\"/dashboard\" className=\"text-xl font-bold text-gray-900\">\n                Link<span className=\"text-blue-600\">Medic</span>\n              </Link>\n              <nav className=\"flex gap-6\">\n                <Link\n                  href=\"/dashboard\"\n                  className=\"text-gray-600 hover:text-gray-900 text-sm font-medium\"\n                >\n                  Dashboard\n                </Link>\n                <Link\n                  href=\"/issues\"\n                  className=\"text-gray-600 hover:text-gray-900 text-sm font-medium\"\n                >\n                  Issues\n                </Link>\n                <Link\n                  href=\"/videos\"\n                  className=\"text-gray-600 hover:text-gray-900 text-sm font-medium\"\n                >\n                  Videos\n                </Link>\n                <Link\n                  href=\"/settings\"\n                  className=\"text-gray-600 hover:text-gray-900 text-sm font-medium\"\n                >\n                  Settings\n                </Link>\n              </nav>\n            </div>\n            <UserMenu user={session.user} />\n          </div>\n        </div>\n      </header>\n\n      {/* Trial Banner */}\n      {trialEndsAt && !isSubscribed && (\n        <div className=\"bg-blue-50 border-b border-blue-100\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-2\">\n            <p className=\"text-sm text-blue-700 text-center\">\n              {isTrialExpired ? (\n                <>Your trial has expired. Subscribe to continue using LinkMedic.</>\n              ) : (\n                <>\n                  Trial ends {new Date(trialEndsAt).toLocaleDateString()}. Subscribe for $19/month to continue.\n                </>\n              )}\n            </p>\n          </div>\n        </div>\n      )}\n\n      {/* Main Content */}\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {children}\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":"+DAEO,IAAM,EAAW,CAAA,EAAA,AADxB,EAAA,CAAA,CAAA,OACwB,uBAAA,AAAuB,EAC3C,WAAa,MAAM,AAAI,MAAM,8NAAgO,EAC7P,6DACA,4DAHG,IAAM,EAAW,CAAA,EADxB,AACwB,EADxB,CAAA,CAAA,OACwB,uBAAA,AAAuB,EAC3C,WAAa,MAAM,AAAI,MAAM,8NAAgO,EAC7P,yCACA,sHCLJ,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,gBAEe,eAAe,EAAgB,UAC5C,CAAQ,CAGT,EACC,IAAM,EAAU,MAAM,CAAA,EAAA,EAAA,gBAAA,AAAgB,EAAC,EAAA,WAAW,CAE9C,CAAC,GACH,CAAA,EAAA,EAAA,CADY,OACZ,AAAQ,EAAC,UAIX,IAAM,EAAc,EAAQ,IAAI,CAAC,WAAW,CACtC,EAAiB,GAAe,IAAI,KAAK,GAAe,IAAI,KAC5D,EAAe,AAAoC,aAA5B,IAAI,CAAC,kBAAkB,CAOpD,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCAEb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,UAAU,+CAChB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,aAAa,UAAU,4CAAkC,OAC9D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,aAEtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAK,aACL,UAAU,iEACX,cAGD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAK,UACL,UAAU,iEACX,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAK,UACL,UAAU,iEACX,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAK,YACL,UAAU,iEACX,mBAKL,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,KAAM,EAAQ,IAAI,UAMjC,GAAe,CAAC,GACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+CACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uDACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,6CACV,EACC,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,QAAA,CAAA,UAAE,mEAEF,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WAAE,cACY,IAAI,KAAK,GAAa,kBAAkB,GAAG,kDASnE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uDACb,MAIT","ignoreList":[0]}